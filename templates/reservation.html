{% extends 'home.html'%}
{% block content %}
<div id="main-container" class="flex justify-center mt-20 min-h-screen">
    <div id="calendar-container" class="bg-white/30 backdrop-blur-lg p-6 rounded-lg shadow-lg w-[70%] h-120 mx-auto">
        <div id="header" class="flex justify-between items-center mb-4">
            <button id="previous" class="text-gray-600 hover:text-black"><i class="fas fa-chevron-left cursor-pointer"></i></button>
            <div id="current-month-year" class="text-lg font-bold"></div>
            <button id="next" class="text-gray-600 hover:text-black"><i class="fas fa-chevron-right cursor-pointer"></i></button>
        </div>
        <div id="days" class="grid grid-cols-7 text-center font-bold mb-2">
            <p>Sun</p> 
            <p>Mon</p> 
            <p>Tue</p> 
            <p>Wed</p> 
            <p>Thu</p> 
            <p>Fri</p> 
            <p>Sat</p>
        </div>
        <div id="dates" class="grid grid-cols-7 gap-4 text-center"></div>
    </div>
</div>

<script>
    const monthYear = document.getElementById('current-month-year');
    const datesContainer = document.getElementById('dates');
    const prevBtn = document.getElementById('previous');
    const nextBtn = document.getElementById('next');
    let currentDate = new Date();

    function generateCalendar(date) {
        datesContainer.innerHTML = '';
        const year = date.getFullYear();
        const month = date.getMonth();
        monthYear.textContent = new Intl.DateTimeFormat('en-US', { month: 'long', year: 'numeric' }).format(date);
        
        const firstDay = new Date(year, month, 1).getDay();
        const lastDate = new Date(year, month + 1, 0).getDate();
        
        for (let i = 0; i < firstDay; i++) {
            datesContainer.innerHTML += '<div></div>'; // Empty spaces
        }
        
        for (let day = 1; day <= lastDate; day++) {
            const dateElem = document.createElement('div');
            dateElem.textContent = day;
            dateElem.className = "cursor-pointer p-2 rounded hover:bg-gray-300 ";
            dateElem.addEventListener('click', () => alert(`You clicked on ${day} ${monthYear.textContent}`));
            datesContainer.appendChild(dateElem);
        }
    }
    
    prevBtn.addEventListener('click', () => {
        currentDate.setMonth(currentDate.getMonth() - 1);
        generateCalendar(currentDate);
    });
    
    nextBtn.addEventListener('click', () => {
        currentDate.setMonth(currentDate.getMonth() + 1);
        generateCalendar(currentDate);
    });
    
    generateCalendar(currentDate);
</script>
{% endblock %}